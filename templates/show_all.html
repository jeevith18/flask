{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2 class="mt-4">All Students</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Gender</th>
            </tr>
        </thead>
        <tbody>
        {% for student in student_all() %}
            <tr>
                <td>{{ student.id }}</td>
                <td>{{ student.name }}</td>
                <td>{{ student.gender }}</td>
            </tr>
        {% else %}
            <tr><td colspan="3">No students found.</td></tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('add_student') }}" class="btn btn-primary">Add New Student</a>
</div>
{% endblock %}
